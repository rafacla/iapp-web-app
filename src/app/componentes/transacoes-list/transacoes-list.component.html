<div class="mat-toolbar-second-row">
  <span>Transações</span>
</div>
<div class="mat-toolbar-third-row">
    <button mat-button *ngIf="numeroSelecionados() > 0">
      <mat-icon>delete</mat-icon> Deletar Selecionados
    </button>
  <button mat-button><mat-icon>add</mat-icon> Nova transação</button>
  <button mat-button><mat-icon>calendar_today</mat-icon> Novo parcelamento</button>
</div>
<div class="categorias-content">
  <div class="tabela-categorias">
    <table mat-table [dataSource]="dataSource" tableTransacoes class="table-condensed">
      <!-- Checkbox Column -->
      <ng-container matColumnDef="select">
        <th mat-header-cell *matHeaderCellDef>
          <mat-checkbox (change)="$event ? masterToggle() : null"
                        [checked]="selection.hasValue() && isAllSelected()"
                        [indeterminate]="selection.hasValue() && !isAllSelected()">
          </mat-checkbox>
        </th>
        <td mat-cell *matCellDef="let row">
          <mat-checkbox (click)="$event.stopPropagation()"
                        (change)="$event ? selection.toggle(row) : null"
                        [checked]="selection.isSelected(row)">
          </mat-checkbox>
        </td>
      </ng-container>

      <ng-container matColumnDef="transacao_data">
        <th mat-header-cell *matHeaderCellDef> DATA </th>
        <td mat-cell *matCellDef="let element"> {{element.transacao_data | date:'shortDate'}} </td>
      </ng-container>

      <ng-container matColumnDef="conta_nome">
        <th mat-header-cell *matHeaderCellDef> CONTA </th>
        <td mat-cell *matCellDef="let element"> {{element.conta_nome}} </td>
      </ng-container>
    
      <ng-container matColumnDef="transacao_sacado">
        <th mat-header-cell *matHeaderCellDef> SACADO </th>
        <td mat-cell *matCellDef="let element">{{element.transacao_sacado}} </td>
      </ng-container>

      <ng-container matColumnDef="transacao_descricao">
        <th mat-header-cell *matHeaderCellDef> DESCRIÇÃO </th>
        <td mat-cell *matCellDef="let element">{{element.transacao_descricao}} </td>
      </ng-container>

      <ng-container matColumnDef="transacao_valor_saida">
        <th mat-header-cell *matHeaderCellDef> SAÍDA </th>
        <td mat-cell *matCellDef="let element">{{element.transacao_valor < 0 ? (-element.transacao_valor | number:'1.2') : ''}} </td>
      </ng-container>

      <ng-container matColumnDef="transacao_valor_entrada">
        <th mat-header-cell *matHeaderCellDef> ENTRADA</th>
        <td mat-cell *matCellDef="let element">{{element.transacao_valor >= 0 ? (element.transacao_valor | number:'1.2') : ''}} </td>
      </ng-container>

      <ng-container matColumnDef="transacao_classificacao">
        <th mat-header-cell *matHeaderCellDef> CATEGORIA </th>
        <td mat-cell *matCellDef="let element">
          <span *ngIf="element.transf_para_conta_id">{{element.categoria_nome}}: {{element.subcategoria_nome}}</span> 
          <span *ngIf="element.subcategoria_id">{{element.categoria_nome}}: {{element.subcategoria_nome}}</span> 
        </td>
      </ng-container>

      <ng-container matColumnDef="transacao_conciliada">
        <th mat-header-cell *matHeaderCellDef>  </th>
        <td mat-cell *matCellDef="let element">{{element.transacao_conciliada}} </td>
      </ng-container>

      <ng-container matColumnDef="categoria_acao">
        <th mat-header-cell *matHeaderCellDef> AÇÕES </th>
        <td mat-cell *matCellDef="let element">   
          <div class="acoes">
            <button mat-icon-button>
              <mat-icon class="add_sub">add_to_photos</mat-icon>
            </button>
            <button mat-icon-button>
              <mat-icon class="delete">delete</mat-icon>
            </button>
            <button mat-icon-button>
              <mat-icon class="edit">edit</mat-icon>
            </button>
          </div>
        </td>
      </ng-container>
    
      <tr mat-header-row *matHeaderRowDef="transacoesColumns;sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: transacoesColumns;"
          (click)="selection.toggle(row)" class="categoria"> </tr>
    </table>
  </div>
</div>